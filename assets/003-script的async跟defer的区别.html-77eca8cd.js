import{_ as e,o as r,c as a,d as s}from"./app-091fe1e3.js";const n={},c=s('<h1 id="_003-script-的-async-跟-defer-的区别" tabindex="-1"><a class="header-anchor" href="#_003-script-的-async-跟-defer-的区别" aria-hidden="true">#</a> 003-script 的 async 跟 defer 的区别？</h1><p>为什么 script 标签有 async 和 defer 这两个属性，因为浏览器在执行 HTML 时，如果遇到 &lt;script&gt; 会停止页面的渲染，去下载和执行 js 的文件直到 &lt;/script&gt; 为止，才会继续渲染页面。故浏览器在执行 js 文件时浏览器表现为一片空白。</p><h2 id="defer" tabindex="-1"><a class="header-anchor" href="#defer" aria-hidden="true">#</a> defer</h2><p>这个属性就是延迟脚本到整个网页解析完成后再执行。HTML5 规范要求脚本按照它们出现的先后顺序执行，因此第一个延迟脚本会先于第二个延迟脚本执行，而这两个脚本会先于 DOMContentLoaded 事件执行。如果是内嵌脚本（缺少 src），不建议使用该属性，因为不起作用。</p><h2 id="async" tabindex="-1"><a class="header-anchor" href="#async" aria-hidden="true">#</a> async</h2><p>这个属性和 defer 类似，都用于改变处理脚本的行为。指示浏览器是否在允许的情况下异步执行该脚本。async 只适用于外部脚本文件，并告诉浏览器立即下载文件。但与 defer 不同的是，标记为 async 的脚本并不保证按照它们的先后顺序执行，而是先下载完的先执行，所以使用 async 的文件不应该有相互依赖关系。</p><h2 id="区别" tabindex="-1"><a class="header-anchor" href="#区别" aria-hidden="true">#</a> 区别</h2><p><strong>相同点：</strong></p><ul><li>加载文件时不阻塞页面渲染。</li><li>对于内嵌的脚本无效，当 script 标签中间有代码时，两个属性都不起作用。</li><li>使用这两个属性的脚本中不能调用 document.write 方法</li><li>有脚本的 onload 的事件回调</li></ul><p><strong>不同点：</strong></p><ul><li>HTML4 定义了 defer；HTML5 定义了 async，浏览器支持不同。</li><li>每一个 async 属性的脚本都在它下载完成后执行，同时会在 window.load 事件之前执行。所以就有可能出现脚本执行顺序被打乱的情况；每个 defer 属性的脚本都是在页面解析完成后，按照脚本的顺序执行，同时会在 document 的 DOMContentLoaded 之前执行。</li></ul><p><strong>当一个 script 标签同时包含 defer 与 async 属性时，只会触发 async，除非浏览器不兼容 async 才会触发 defer</strong></p><p><em>部分答案整理自网络资源</em></p>',13),t=[c];function d(i,o){return r(),a("div",null,t)}const h=e(n,[["render",d],["__file","003-script的async跟defer的区别.html.vue"]]);export{h as default};
